<ng-template [appLoadingObservables]="[resultsLoaded]">
<div class="l-stickyBar">

  <div class="l-container t-padding-large t-padding-top">

    <div class="l-container l-container-mobile t-margin-medium t-margin-bottom">
      <h2 *ngIf="title" class="t-type-heading1 t-margin-small t-margin-bottom" tabindex="0" #titleHeading>{{title}}</h2>
      <p class="t-type-bodyLarge t-type-text3">
        {{resultsCountLabel}}
        found based on
        <ng-template [ngIf]="matchingQuery !== undefined">
          <ng-template ngFor let-q [ngForOf]="matchingQuery" let-last="last">
            <span class="t-type-bodyLargeBold t-type-text1">{{q}}</span>
            <ng-template [ngIf]="!last && matchingQuery.length > 1">, </ng-template>
          </ng-template>
        </ng-template>
        <ng-template [ngIf]="totalCount > 0">
          Viewing {{firstRecordNo}}-{{lastRecordNo}}.
        </ng-template>
      </p>
    </div>

    <div class="t-margin-medium t-margin-bottom">
      <app-blocking-loader [observables]="[resultsLoaded]">
        <p class="t-visuallyHidden">Import {{resultTypeLabel}}s</p>

        <app-external-search-collection-table
          *ngIf="!emptyResults && isCollectionSearchResults"
          [items]="results"
        ></app-external-search-collection-table>

        <app-external-search-skill-table
          *ngIf="!emptyResults && isRsdSearchResults"
          [items]="results"
        ></app-external-search-skill-table>

        <app-empty-message *ngIf="emptyResults">
          <p class="m-emptyMessage-x-message">No {{resultTypeLabel}}s found. Try modifying your search terms.</p>
        </app-empty-message>
      </app-blocking-loader>
    </div>

    <app-pagination
      [currentPage]="currentPageNo"
      [totalPages]="totalPageCount"
      (pageClicked)="handlePageClicked($event)"
    ></app-pagination>

  </div>

</div>

</ng-template>
